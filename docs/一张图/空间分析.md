# 空间分析前端开发文档

中山自然资源项目空间分析开发文档

- 代码目录--src/views/OnePage/index.vue

## 一、左侧菜单栏

左侧菜单栏包括了如下功能：

1. 左侧菜单栏显隐控制
2. 一键还原一张图初始状态功能
3. 图层搜索功能
4. 饮用水、地表水、其他图层、已选图层选中控制与地图联动效果

### 1.左侧菜单栏显隐控制

菜单栏显隐按钮对左侧菜单栏进行显隐控制

- 根据参数 "showLayer" 控制，div "class='layer-btn'"

### 2.一键还原一张图初始状态功能

一键还原按钮调用了其他部分的还原功能，进行了一次性还原

- 根据方法 "isShowReductionWinCheck" 控制，div "class='layer-btn-right'"

### 3.图层搜索功能

图层搜索根据连续汉字匹配的方式，对饮用水、地表水、其他图层、已选图层的内容进行筛选

- 绑定的数据为 "keyWord" ，div "class='search'"

### 4.饮用水、地表水、其他图层、已选图层选中控制与地图联动效果

根据用户勾选状态，去控制地图加载的数据

- 获取数据的后台接口为 "/oneMap/getMenus" , 前端处理数据的方法为 "getLayer" ，vue 中使用到的数据名称为 "layerData"
- 分为一级内容（饮用水、地表水、其他图层、已选图层）， div "class='layer-item'"
- 二级内容（点击后右边弹出）, div "class='layer-second'",二级内容与一级内容相关
- 已选图层根据当前已选择的图层信息进行展示，数据："checkList"

